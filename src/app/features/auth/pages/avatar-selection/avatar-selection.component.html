<div class="avatar-selection">
  <div class="avatar-selection__container">
    <!-- Header -->
    <header class="avatar-selection__header">
      <div class="avatar-selection__back">
        <app-back-button label="Back" (clicked)="goBack()" />
      </div>
      <h1 class="avatar-selection__title">Choose Your Avatar</h1>
    </header>

    <!-- Selected Avatar Preview -->
    <section class="avatar-selection__preview">
      <img
        class="avatar-selection__preview-img"
        [src]="selectedAvatarSrc()"
        alt="Selected Avatar"
      />
      <h2 class="avatar-selection__preview-name">{{ userName() }}</h2>
    </section>

    <!-- Avatar Grid -->
    <section class="avatar-selection__grid-section">
      <h3 class="avatar-selection__grid-title">Choose one</h3>

      <div class="avatar-selection__grid">
        @for (avatar of avatars; track avatar.id) {
        <div
          class="avatar-selection__item"
          [class.avatar-selection__item--selected]="avatar.id === selectedAvatar()"
          (click)="selectAvatar(avatar.id)"
        >
          <img [src]="avatar.src" [alt]="avatar.alt" class="avatar-selection__item-img" />
        </div>
        }
      </div>
    </section>

    <!-- Footer with Confirm Button -->
    <footer class="avatar-selection__footer">
      <app-primary-button
        label="Continue"
        (clicked)="confirmSelection()"
        [disabled]="!selectedAvatar() || isSubmitting()"
        [loading]="isSubmitting()"
      />
    </footer>
  </div>
</div>
