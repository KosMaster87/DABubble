<div class="register">
  <div class="register__container">
    <!-- Header -->
    <header class="register__header">
      <div class="register__back">
        <app-back-button label="Back" (clicked)="goBack()" />
      </div>
      <h1 class="register__title">Create Account</h1>
      <p class="register__subtitle">
        You can create your new DABubble account using your name and email address.
      </p>
    </header>

    <!-- Registration Form -->
    <form [formGroup]="registerForm" (ngSubmit)="onSubmit()" class="register__form">
      <!-- Name Input -->
      <app-input-field
        [control]="$any(registerForm.controls['name'])"
        id="name"
        type="text"
        placeholder="Your full name"
        icon="/img/formfield/person-default.svg"
        [errorMessages]="{
          required: 'Name is required.',
          minlength: 'Name must be at least 2 characters.'
        }"
      />

      <!-- Email Input -->
      <app-input-field
        [control]="$any(registerForm.controls['email'])"
        id="email"
        type="email"
        placeholder="example@email.com"
        icon="/img/formfield/mail-default.svg"
        [errorMessages]="{
          required: 'Email is required.',
          email: 'Please enter a valid email address.'
        }"
      />

      <!-- Password Input -->
      <app-input-field
        [control]="$any(registerForm.controls['password'])"
        id="password"
        type="password"
        placeholder="At least 6 characters"
        icon="/img/formfield/lock-default.svg"
        [errorMessages]="{
          required: 'Password is required.',
          minlength: 'Password must be at least 6 characters.'
        }"
      />

      <!-- Privacy Checkbox -->
      <div class="register__checkbox-wrapper">
        <app-checkbox-field [control]="$any(registerForm.controls['privacy'])" id="privacy">
          I agree to the
          <a href="/privacy" class="register__link" target="_blank">Privacy policy.</a>
        </app-checkbox-field>
        @if (registerForm.get('privacy')?.touched && registerForm.get('privacy')?.invalid) {
        <small class="register__error" @slideDown>Please accept the privacy policy.</small>
        }
      </div>

      <!-- Submit Button -->
      <div class="register__button-wrapper">
        <app-primary-button
          type="submit"
          label="Continue"
          [disabled]="registerForm.invalid || isSubmitting()"
          [loading]="isSubmitting()"
        />
      </div>
    </form>
  </div>
</div>
