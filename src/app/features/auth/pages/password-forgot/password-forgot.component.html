<div class="password-forgot">
  <div class="password-forgot__container">
    <!-- Header -->
    <header class="password-forgot__header">
      <div class="password-forgot__back">
        <app-back-button label="Back" (clicked)="goBack()" />
      </div>
      <h1 class="password-forgot__title">Reset Password</h1>
      <p class="password-forgot__subtitle">
        Enter your email address and we'll send you instructions to reset your password.
      </p>
    </header>

    @if (!emailSent()) {
    <!-- Form -->
    <form [formGroup]="forgotForm" (ngSubmit)="onSubmit()" class="password-forgot__form">
      <!-- Email Input -->
      <app-input-field
        [control]="$any(forgotForm.controls['email'])"
        id="email"
        type="email"
        placeholder="example@email.com"
        icon="/img/formfield/mail-default.svg"
        [errorMessages]="{
          required: 'Email is required.',
          email: 'Please enter a valid email address.'
        }"
      />

      <!-- Submit Button -->
      <div class="password-forgot__button-wrapper">
        <app-primary-button
          type="submit"
          label="Send Email"
          [disabled]="forgotForm.invalid || isSubmitting()"
          [loading]="isSubmitting()"
        />
      </div>
    </form>
    } @else {
    <!-- Success Message -->
    <div class="password-forgot__success">
      <p class="password-forgot__success-text">
        We've sent password reset instructions to your email address. Please check your inbox and
        follow the link.
      </p>
      <app-primary-button label="Back to Sign In" (clicked)="goBack()" />
    </div>
    }
  </div>
</div>
