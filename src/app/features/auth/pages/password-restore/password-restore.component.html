<div class="password-restore">
  <div class="password-restore__container">
    <!-- Header -->
    <header class="password-restore__header">
      <h1 class="password-restore__title">Set New Password</h1>
      <p class="password-restore__subtitle">Please enter your new password below.</p>
    </header>

    <!-- Form -->
    <form [formGroup]="restoreForm" (ngSubmit)="onSubmit()" class="password-restore__form">
      <!-- Password Input -->
      <app-input-field
        [control]="$any(restoreForm.controls['password'])"
        id="password"
        [type]="hidePassword() ? 'password' : 'text'"
        placeholder="New password (min. 6 characters)"
        icon="/img/formfield/lock-default.svg"
        [errorMessages]="{
          required: 'Password is required.',
          minlength: 'Password must be at least 6 characters.'
        }"
      />

      <!-- Confirm Password Input -->
      <app-input-field
        [control]="$any(restoreForm.controls['confirmPassword'])"
        id="confirmPassword"
        [type]="hideConfirmPassword() ? 'password' : 'text'"
        placeholder="Confirm new password"
        icon="/img/formfield/lock-default.svg"
        [errorMessages]="{
          required: 'Please confirm your password.'
        }"
      />

      @if (!passwordsMatch() && restoreForm.get('confirmPassword')?.touched) {
      <p class="password-restore__error">Passwords do not match.</p>
      }

      <!-- Submit Button -->
      <div class="password-restore__button-wrapper">
        <app-primary-button
          type="submit"
          label="Reset Password"
          [disabled]="restoreForm.invalid || !passwordsMatch() || isSubmitting()"
          [loading]="isSubmitting()"
        />
      </div>
    </form>
  </div>
</div>
