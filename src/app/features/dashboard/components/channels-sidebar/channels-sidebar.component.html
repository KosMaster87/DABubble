<aside class="channels-sidebar" [class.channels-sidebar--collapsed]="isCollapsed()">
  <div class="channels-sidebar__header">
    @if (!isCollapsed()) {
    <h2 class="channels-sidebar__title">Channels</h2>
    }

    <button
      class="channels-sidebar__toggle"
      (click)="toggleSidebar()"
      [attr.aria-label]="isCollapsed() ? 'Sidebar öffnen' : 'Sidebar schließen'"
    >
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
        @if (isCollapsed()) {
        <!-- Arrow Right -->
        <path
          d="M9 18L15 12L9 6"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
        />
        } @else {
        <!-- Arrow Left -->
        <path
          d="M15 18L9 12L15 6"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
        />
        }
      </svg>
    </button>
  </div>

  @if (!isCollapsed()) {
  <div class="channels-sidebar__content">
    <!-- Channels List -->
    <div class="channels-sidebar__list">
      @if (channelStore.channels().length > 0) { @for (channel of channelStore.channels(); track
      channel.id) {
      <button
        class="channels-sidebar__item"
        [class.channels-sidebar__item--active]="channelStore.selectedChannel()?.id === channel.id"
        (click)="selectChannel(channel.id)"
      >
        <span class="channels-sidebar__item-icon">#</span>
        <span class="channels-sidebar__item-name">{{ channel.name }}</span>
      </button>
      } } @else {
      <div class="channels-sidebar__empty">
        <p>Keine Channels verfügbar</p>
      </div>
      }
    </div>

    <!-- Add Channel Button -->
    <div class="channels-sidebar__actions">
      <button class="channels-sidebar__add-btn">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
          <path
            d="M12 5V19M5 12H19"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          />
        </svg>
        <span>Channel hinzufügen</span>
      </button>
    </div>
  </div>
  }
</aside>
